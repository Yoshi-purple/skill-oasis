{"remainingRequest":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\babel-loader\\lib\\index.js!D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\src\\views\\Confirmsignup.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\src\\views\\Confirmsignup.vue","mtime":1635646868722},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612412714520},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\babel-loader\\lib\\index.js","mtime":1612412714534},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612412714520},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\skill-oasis\\node_modules\\vue-loader\\lib\\index.js","mtime":1629275980431}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1x1MzBEN1x1MzBFRFx1MzBCMFx1MzBFOVx1MzBERlx1MzBGM1x1MzBCMC9cdTMwRERcdTMwRkNcdTMwQzhcdTMwRDVcdTMwQTlcdTMwRUFcdTMwQUEvc2tpbGwtb2FzaXMvc2tpbGwtb2FzaXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9cdTMwRDdcdTMwRURcdTMwQjBcdTMwRTlcdTMwREZcdTMwRjNcdTMwQjAvXHUzMEREXHUzMEZDXHUzMEM4XHUzMEQ1XHUzMEE5XHUzMEVBXHUzMEFBL3NraWxsLW9hc2lzL3NraWxsLW9hc2lzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBBdXRoIH0gZnJvbSAnYXdzLWFtcGxpZnknOwppbXBvcnQgeyBBbXBsaWZ5RXZlbnRCdXMgfSBmcm9tICdhd3MtYW1wbGlmeS12dWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6IHRoaXMuJHJvdXRlLnF1ZXJ5LmVtYWlsLAogICAgICB1c2VybmFtZTogdGhpcy4kcm91dGUucXVlcnkudXNlcm5hbWUsCiAgICAgIHBhc3N3b3JkOiB0aGlzLiRyb3V0ZS5xdWVyeS5wYXNzd29yZCwKICAgICAgY29kZTogJycsCiAgICAgIHNpZ25lZEluOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnYXV0aFN0YXRlJywgJ2xvZ2luVXNlciddKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pc1VzZXJTaWduZWRJbigpOwogICAgQW1wbGlmeUV2ZW50QnVzLiRvbignYXV0aFN0YXRlJywgZnVuY3Rpb24gKGluZm8pIHsKICAgICAgaWYgKGluZm8gPT09ICdzaWduZWRJbicpIHsKICAgICAgICBfdGhpcy5pc1VzZXJTaWduZWRJbigpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnNpZ25lZEluID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaXNVc2VyU2lnbmVkSW46IGZ1bmN0aW9uIGlzVXNlclNpZ25lZEluKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXJPYmo7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmN1cnJlbnRBdXRoZW50aWNhdGVkVXNlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1c2VyT2JqID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5zaWduZWRJbiA9IHRydWU7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ3NldExvZ2luVXNlcicsIHsKICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHVzZXJPYmoudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyT2JqLmF0dHJpYnV0ZXMuZW1haWwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJPYmopOwoKICAgICAgICAgICAgICAgIGlmICghdXNlck9iai5hdHRyaWJ1dGVzLmVtYWlsX3ZlcmlmaWVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnTWFrZXByb2ZpbGUnKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmxvZ2luVXNlcik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBfdGhpczIuc2lnbmVkSW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNvbmZpcm1TaWduVXA6IGZ1bmN0aW9uIGNvbmZpcm1TaWduVXAoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmNvbmZpcm1TaWduVXAoX3RoaXMzLnVzZXJuYW1lLCBfdGhpczMuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIEF1dGguc2lnbkluKF90aGlzMy5lbWFpbCwgX3RoaXMzLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5zaWduZWRJbiA9IHRydWU7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmNvbW1pdCgnc2V0TG9naW5Vc2VyJywgewogICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB1c2VyLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmF0dHJpYnV0ZXMuZW1haWwKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL01ha2Vwcm9maWxlJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBjb25maXJtaW5nIHNpZ24gdXAnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Confirmsignup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,IAAA,QAAA,aAAA;AACA,SAAA,eAAA,QAAA,iBAAA;AAEA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAFA;AAGA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,WAAA,CAAA,CADA,CAVA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA,SAAA,cAAA;AACA,IAAA,eAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA,KANA;AAOA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,IAAA,CAAA,wBAAA,EAFA;;AAAA;AAEA,gBAAA,OAFA;AAGA,gBAAA,MAAA,CAAA,QAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA;AACA,kBAAA,QAAA,EAAA,OAAA,CAAA,QADA;AAEA,kBAAA,KAAA,EAAA,OAAA,CAAA,UAAA,CAAA;AAFA,iBAAA;;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AARA,qBASA,OAAA,CAAA,UAAA,CAAA,cATA;AAAA;AAAA;AAAA;;AAUA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;;AAVA;AAAA;;AAAA;AAAA;;AAAA;AAcA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA;AAdA;AAAA;;AAAA;AAAA;AAAA;AAgBA,gBAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,gBAAA,OAAA,CAAA,GAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA,KApBA;AAqBA,IAAA,aArBA,2BAqBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,IAAA,CAAA,aAAA,CAAA,MAAA,CAAA,QAAA,EAAA,MAAA,CAAA,IAAA,CAFA;;AAAA;AAEA,gBAAA,IAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AAHA;AAAA,uBAIA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,GAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA;AACA,oBAAA,QAAA,EAAA,IAAA,CAAA,QADA;AAEA,oBAAA,KAAA,EAAA,IAAA,CAAA,UAAA,CAAA;AAFA,mBAAA;;AAIA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA,iBAPA,CAJA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AApCA;AAvBA,CAAA","sourcesContent":["<template>\n  <div class=\"container-fluid\" style=\"height: 960px\">\n    <div class=\"container\" style=\"margin-top: 100px\">\n      <div class=\"card d-flex mx-auto\" style=\"max-width: 650px\">\n        <div id=\"signup-tag\">登録確認</div>\n        <div class=\"mb-3 row\" style=\"text-align: center\">\n          <div class=\"row\" style=\"margin-top: 30px\">\n            <p>以下のアドレスに確認用のメールを送信しました。</p>\n            <p>コードを入力して本登録を完了してください。</p>\n            <p class=\"center\">\n              {{ this.email }}\n            </p>\n            <div class=\"row mb-3\">\n              <div class=\"col-6 mx-auto justify-content-center\">\n                <input\n                  v-model=\"code\"\n                  type=\"code\"\n                  class=\"form-control\"\n                  style=\"background-color: #eceeec; border: none\"\n                />\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"d-grid gap-2 col-12 mx-auto justify-content-center\">\n                <button\n                  class=\"btn\"\n                  type=\"button\"\n                  style=\"\n                    background-color: #79b270;\n                    color: #fff;\n                    border: #79b270;\n                    border-radius: 6px;\n                  \"\n                  @click=\"confirmSignUp()\"\n                  @submit=\"confirmSignUp()\"\n                >\n                  確認\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { Auth } from 'aws-amplify';\nimport { AmplifyEventBus } from 'aws-amplify-vue';\n\nimport { mapGetters } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      email: this.$route.query.email,\n      username: this.$route.query.username,\n      password: this.$route.query.password,\n      code: '',\n      signedIn: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['authState', 'loginUser']),\n  },\n  created() {\n    this.isUserSignedIn();\n    AmplifyEventBus.$on('authState', (info) => {\n      if (info === 'signedIn') {\n        this.isUserSignedIn();\n      } else {\n        this.signedIn = false;\n      }\n    });\n  },\n  methods: {\n    async isUserSignedIn() {\n      try {\n        const userObj = await Auth.currentAuthenticatedUser();\n        this.signedIn = true;\n        this.$store.commit('setLoginUser', {\n          userName: userObj.username,\n          email: userObj.attributes.email,\n        });\n        console.log(userObj);\n        if (userObj.attributes.email_verified) {\n          this.$router.push('Makeprofile');\n        } else {\n          return;\n        }\n        console.log(this.loginUser);\n      } catch (err) {\n        this.signedIn = false;\n        console.log(err);\n      }\n    },\n    async confirmSignUp() {\n      try {\n        const user = await Auth.confirmSignUp(this.username, this.code);\n        console.log(user);\n        await Auth.signIn(this.email, this.password).then((user) => {\n          this.signedIn = true;\n          this.$store.commit('setLoginUser', {\n            userName: user.username,\n            email: user.attributes.email,\n          });\n          this.$router.push({ path: '/Makeprofile' });\n        });\n      } catch (error) {\n        console.log('error confirming sign up', error);\n      }\n    },\n  },\n};\n</script>\n<style>\n.signup {\n  margin-top: 100px;\n  text-align: center;\n}\n#signup-tag {\n  width: 200px;\n  color: #ffffff;\n  text-align: center;\n  border-bottom: 30px solid #79b270;\n  height: 0;\n}\n</style>\n"],"sourceRoot":"src/views"}]}