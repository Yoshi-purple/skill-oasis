{"remainingRequest":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\プログラミング\\ポートフォリオ\\skill-oasis\\src\\views\\Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\src\\views\\Signup.vue","mtime":1635103267799},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612412714520},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\node_modules\\babel-loader\\lib\\index.js","mtime":1612412714534},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1612412714520},{"path":"D:\\プログラミング\\ポートフォリオ\\skill-oasis\\node_modules\\vue-loader\\lib\\index.js","mtime":1629275980431}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQXV0aCB9IGZyb20gJ2F3cy1hbXBsaWZ5JzsKaW1wb3J0IHsgQW1wbGlmeUV2ZW50QnVzIH0gZnJvbSAnYXdzLWFtcGxpZnktdnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2F1dGhTdGF0ZScsICdsb2dpblVzZXInXSksCiAgfSwKICBjcmVhdGVkKCkgewogICAgQW1wbGlmeUV2ZW50QnVzLiRvbignYXV0aFN0YXRlJywgKGluZm8pID0+IHsKICAgICAgaWYgKGluZm8gPT09ICdzaWduZWRJbicpIHsKICAgICAgICB0aGlzLmlzVXNlclNpZ25lZEluKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaWduZWRJbiA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTmFtZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBzaWduZWRJbjogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgaXNVc2VyU2lnbmVkSW4oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlck9iaiA9IGF3YWl0IEF1dGguY3VycmVudEF1dGhlbnRpY2F0ZWRVc2VyKCk7CiAgICAgICAgdGhpcy5zaWduZWRJbiA9IHRydWU7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRMb2dpblVzZXInLCB7CiAgICAgICAgICB1c2VyTmFtZTogdXNlck9iai51c2VybmFtZSwKICAgICAgICAgIGVtYWlsOiB1c2VyT2JqLmF0dHJpYnV0ZXMuZW1haWwsCiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2codXNlck9iaik7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5sb2dpblVzZXIpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB0aGlzLnNpZ25lZEluID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNpZ25VcCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBBdXRoLnNpZ25VcCh7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VyTmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwgLy8gb3B0aW9uYWwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBwYXRoOiAnL0NvbmZpcm1zaWdudXAnLAogICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJOYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzaWdudXBXaXRoR29vZ2xlKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBdXRoLmZlZGVyYXRlZFNpZ25Jbih7IHByb3ZpZGVyOiAnR29vZ2xlJyB9KTsKICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICBjb25zdCB1c2VyT2JqID0gYXdhaXQgQXV0aC5jdXJyZW50QXV0aGVudGljYXRlZFVzZXIoKTsKICAgICAgICB0aGlzLnNpZ25lZEluID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldExvZ2luVXNlcicsIHsKICAgICAgICAgIHVzZXJOYW1lOiB1c2VyT2JqLmF0dHJpYnV0ZXMubmFtZSwKICAgICAgICAgIGVtYWlsOiB1c2VyT2JqLmF0dHJpYnV0ZXMuZW1haWwsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnTWFrZXByb2ZpbGUnIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container-fluid\" style=\"height: 1440px\">\n    <div class=\"container\" style=\"margin-top: 100px\">\n      <div class=\"card d-flex mx-auto\" style=\"max-width: 650px\">\n        <div id=\"signup-tag\">新規会員登録</div>\n        <div class=\"mb-3 row\" style=\"text-align: center\">\n          <div class=\"row\" style=\"margin-top: 60px\">\n            <label for=\"userName\" class=\"col-sm-2 col-form-label\">ユーザー名</label>\n            <div class=\"col-sm-10\">\n              <input\n                v-model=\"userName\"\n                type=\"text\"\n                class=\"form-control\"\n                style=\"background-color: #eceeec; border: none\"\n              />\n            </div>\n            <label for=\"staticEmail\" class=\"col-sm-2 col-form-label\"\n              >メールアドレス</label\n            >\n            <div class=\"col-sm-10\">\n              <input\n                v-model=\"email\"\n                type=\"text\"\n                class=\"form-control\"\n                value=\"email@example.com\"\n                style=\"background-color: #eceeec; border: none\"\n              />\n            </div>\n            <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">パスワード</label>\n            <div class=\"col-sm-10\">\n              <input\n                v-model=\"password\"\n                type=\"password\"\n                class=\"form-control\"\n                id=\"inputPassword\"\n                style=\"background-color: #eceeec; border: none\"\n              />\n            </div>\n          </div>\n          <div class=\"row\" style=\"margin-top: 30px\">\n            <div class=\"d-grid gap-2 col-12 mx-auto justify-content-center\">\n              <button\n                class=\"btn\"\n                type=\"button\"\n                style=\"\n                  background-color: #79b270;\n                  color: #fff;\n                  border: #79b270;\n                  border-radius: 6px;\n                \"\n                @click=\"signUp()\"\n                @submit=\"signUp()\"\n              >\n                新規会員登録(無料)\n              </button>\n              <button class=\"btn btn-light\" type=\"button\" @click=\"signupWithGoogle()\">\n                Googleでログイン\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport { Auth } from 'aws-amplify';\nimport { AmplifyEventBus } from 'aws-amplify-vue';\n\nexport default {\n  computed: {\n    ...mapGetters(['authState', 'loginUser']),\n  },\n  created() {\n    AmplifyEventBus.$on('authState', (info) => {\n      if (info === 'signedIn') {\n        this.isUserSignedIn();\n      } else {\n        this.signedIn = false;\n      }\n    });\n  },\n  data() {\n    return {\n      userName: '',\n      email: '',\n      password: '',\n      signedIn: false,\n    };\n  },\n  methods: {\n    async isUserSignedIn() {\n      try {\n        const userObj = await Auth.currentAuthenticatedUser();\n        this.signedIn = true;\n        this.$store.commit('setLoginUser', {\n          userName: userObj.username,\n          email: userObj.attributes.email,\n        });\n        console.log(userObj);\n        console.log(this.loginUser);\n      } catch (err) {\n        this.signedIn = false;\n        console.log(err);\n      }\n    },\n    async signUp() {\n      try {\n        await Auth.signUp({\n          username: this.userName,\n          password: this.password,\n          attributes: {\n            email: this.email, // optional\n          },\n        })\n          .then((user) => {\n            this.$router.push({\n              path: '/Confirmsignup',\n              query: {\n                email: this.email,\n                username: this.userName,\n                password: this.password,\n              },\n            });\n            console.log(user);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async signupWithGoogle() {\n      try {\n        const user = await Auth.federatedSignIn({ provider: 'Google' });\n        console.log(user);\n        const userObj = await Auth.currentAuthenticatedUser();\n        this.signedIn = true;\n        this.$store.commit('setLoginUser', {\n          userName: userObj.attributes.name,\n          email: userObj.attributes.email,\n        });\n        this.$router.push({ path: 'Makeprofile' });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n</script>\n<style>\n.signup {\n  margin-top: 100px;\n  text-align: center;\n}\n#signup-tag {\n  width: 200px;\n  color: #ffffff;\n  text-align: center;\n  border-bottom: 30px solid #79b270;\n  /* border-right: 0px solid transparent; */\n  height: 0;\n}\n</style>\n"]}]}